<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0">
  <title>OCR Application</title>
  
  <!-- CSS -->
  <!-- <link href="./static/css/materialize.css" rel="stylesheet"> -->
  <link href="./static/css/style.css" rel="stylesheet">
  
  <!-- jQuery -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
  
  <nav class="lighten-1 nav-bar">
    <div class="nav-wrapper container">
      <a class="brand-logo center">OCR Application</a>
    </div>
  </nav>
  
  <div class="container">
    <div class="row">
      <form action="/" method="post" class="col s12" enctype="multipart/form-data">
        
        <div class="input-field col s6">
          <label for="image_upload"><b>Upload Image</b></label>
          <div class="file-field input-field">
            <div class="btn upload-btn">
              <span>Browse</span>
              <input type="file" name="image_upload" id="image_upload">
            </div>
            <div class="file-path-wrapper">
              <input class="file-path validate" type="text" placeholder="Upload Image" id="image_name">
            </div>
          </div>
        </div>
        
        <div class="input-field col s12 center">
          <button id="submit" type="submit" class="btn-large">Extract</button>
        </div>
        
        {% if text %}
        <div>
          <h5>Extracted Text</h5>
          {% for i in text %}
          <p>{{ i }}</p>
          {% endfor %}
        </div>
        {% endif %}
        
        {% if full_filename %}
        <div class="center">
          <img src="{{ url_for('static', filename=full_filename) }}" class="uploaded-image">
        </div>
        {% endif %}
        
        {% if text2 %}
        <div class="summary">
          <h5>Summary</h5>
          <p>{{ text2 }}</p>
        </div>
        {% endif %}
        
      </form>
    </div>
  </div>
  
  <!-- Scripts -->
  <script src="./static/js/materialize.js"></script>
  <script>
    document.getElementById('image_upload').onchange = function () {
      document.getElementById('image_name').value = this.value.split('\\').pop();
    };
  </script>
  
</body>
</html>
